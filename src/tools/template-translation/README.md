# è§†é¢‘æ¨¡æ¿å¤šè¯­è¨€ç¿»è¯‘å·¥å…·

è¿™æ˜¯ä¸€ä¸ªç”¨äºæ‰¹é‡å¤„ç†è§†é¢‘æ¨¡æ¿å¤šè¯­è¨€ç¿»è¯‘çš„å®Œæ•´å·¥å…·ç³»ç»Ÿï¼Œæ”¯æŒ 8 ç§è¯­è¨€çš„è‡ªåŠ¨åŒ–ç¿»è¯‘ç®¡ç†ã€‚

## ğŸŒ æ”¯æŒè¯­è¨€

- ğŸ‡ºğŸ‡¸ è‹±è¯­ (en) - è‹±æ–‡
- ğŸ‡¨ğŸ‡³ ä¸­æ–‡ (zh) - ä¸­æ–‡
- ğŸ‡¯ğŸ‡µ æ—¥è¯­ (ja) - æ—¥æ–‡  
- ğŸ‡°ğŸ‡· éŸ©è¯­ (ko) - éŸ©æ–‡
- ğŸ‡ªğŸ‡¸ è¥¿ç­ç‰™è¯­ (es) - è¥¿ç­ç‰™æ–‡
- ğŸ‡©ğŸ‡ª å¾·è¯­ (de) - å¾·æ–‡
- ğŸ‡«ğŸ‡· æ³•è¯­ (fr) - æ³•æ–‡
- ğŸ‡¸ğŸ‡¦ é˜¿æ‹‰ä¼¯è¯­ (ar) - é˜¿æ‹‰ä¼¯æ–‡

## ğŸ“ ç›®å½•ç»“æ„

```
src/tools/template-translation/
â”œâ”€â”€ data/                           # ç¿»è¯‘æ•°æ®æ–‡ä»¶
â”‚   â”œâ”€â”€ terminology.json            # ä¸“ä¸šæœ¯è¯­ç¿»è¯‘å¯¹ç…§è¡¨
â”‚   â”œâ”€â”€ translations-batch-1.json   # ç¬¬ä¸€æ‰¹æ¨¡æ¿ç¿»è¯‘
â”‚   â”œâ”€â”€ translations-batch-2.json   # ç¬¬äºŒæ‰¹æ¨¡æ¿ç¿»è¯‘
â”‚   â””â”€â”€ translations-batch-3.json   # ç¬¬ä¸‰æ‰¹æ¨¡æ¿ç¿»è¯‘
â”œâ”€â”€ engine/                         # ç¿»è¯‘å¤„ç†å¼•æ“
â”‚   â”œâ”€â”€ TemplateAnalyzer.ts        # æ¨¡æ¿åˆ†æå™¨
â”‚   â”œâ”€â”€ TranslationProcessor.ts     # ç¿»è¯‘å¤„ç†å™¨
â”‚   â””â”€â”€ index.ts                    # å¼•æ“å…¥å£
â”œâ”€â”€ manager/                        # ç¿»è¯‘ç®¡ç†å™¨
â”‚   â””â”€â”€ TranslationManager.ts       # é«˜çº§ç¿»è¯‘ç®¡ç†åŠŸèƒ½
â”œâ”€â”€ cli/                           # å‘½ä»¤è¡Œç•Œé¢
â”‚   â””â”€â”€ TranslationCLI.ts          # CLI å·¥å…·
â”œâ”€â”€ backups/                       # å¤‡ä»½ç›®å½•ï¼ˆè‡ªåŠ¨åˆ›å»ºï¼‰
â”œâ”€â”€ test-translation-system.ts     # æµ‹è¯•è„šæœ¬
â””â”€â”€ README.md                      # è¯´æ˜æ–‡æ¡£
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. æµ‹è¯•ç³»ç»Ÿ

é¦–å…ˆè¿è¡Œæµ‹è¯•è„šæœ¬ç¡®ä¿ç³»ç»Ÿæ­£å¸¸å·¥ä½œï¼š

```bash
npx tsx src/tools/template-translation/test-translation-system.ts
```

### 2. æŸ¥çœ‹å½“å‰çŠ¶æ€

```bash
npx tsx src/tools/template-translation/cli/TranslationCLI.ts status
```

### 3. éªŒè¯ç¿»è¯‘æ•°æ®

```bash
npx tsx src/tools/template-translation/cli/TranslationCLI.ts validate
```

### 4. é¢„è§ˆç¿»è¯‘æ•ˆæœ

```bash
npx tsx src/tools/template-translation/cli/TranslationCLI.ts preview
```

### 5. åº”ç”¨ç¿»è¯‘ï¼ˆæ¨èå…ˆæµ‹è¯•ï¼‰

```bash
# æ¨¡æ‹Ÿè¿è¡Œï¼ˆä¸ä¿®æ”¹æ–‡ä»¶ï¼‰
npx tsx src/tools/template-translation/cli/TranslationCLI.ts apply --dry-run

# å®é™…åº”ç”¨ç¿»è¯‘
npx tsx src/tools/template-translation/cli/TranslationCLI.ts apply
```

## ğŸ“Š åŠŸèƒ½ç‰¹æ€§

### ğŸ” æ¨¡æ¿åˆ†æ
- è‡ªåŠ¨æ£€æµ‹æ¨¡æ¿æ˜¯å¦å·²æœ‰å¤šè¯­è¨€æ”¯æŒ
- æå–æ‰€æœ‰å¯ç¿»è¯‘å­—æ®µ
- åˆ†æ promptTemplate ç±»å‹ï¼ˆå­—ç¬¦ä¸² vs JSONï¼‰
- ç”Ÿæˆè¯¦ç»†çš„åˆ†ææŠ¥å‘Š

### ğŸŒ ç¿»è¯‘å¤„ç†
- æ”¯æŒ 8 ç§è¯­è¨€çš„å®Œæ•´ç¿»è¯‘
- ä¸“ä¸šæœ¯è¯­ä¸€è‡´æ€§ä¿è¯
- æ™ºèƒ½å­—æ®µæ˜ å°„å’ŒéªŒè¯
- æ‰¹é‡ç¿»è¯‘åº”ç”¨

### ğŸ›¡ï¸ å®‰å…¨ä¿éšœ
- è‡ªåŠ¨å¤‡ä»½ç³»ç»Ÿ
- å¹²å‡€çš„å›æ»šæœºåˆ¶
- ç¿»è¯‘æ•°æ®éªŒè¯
- æ¨¡æ‹Ÿæ¨¡å¼æµ‹è¯•

### ğŸ“ˆ ç®¡ç†å·¥å…·
- å®æ—¶çŠ¶æ€ç›‘æ§
- ç¿»è¯‘è¦†ç›–ç‡ç»Ÿè®¡
- è¯¦ç»†çš„å¤„ç†æŠ¥å‘Š
- å‘½ä»¤è¡Œç•Œé¢

## ğŸ”§ CLI å‘½ä»¤è¯¦è§£

### `status` - æ˜¾ç¤ºçŠ¶æ€æŠ¥å‘Š
```bash
npx tsx src/tools/template-translation/cli/TranslationCLI.ts status
```
æ˜¾ç¤ºå½“å‰ç¿»è¯‘çŠ¶æ€ï¼ŒåŒ…æ‹¬ï¼š
- æ¨¡æ¿æ€»æ•°å’Œç¿»è¯‘è¦†ç›–ç‡
- æœªç¿»è¯‘æ¨¡æ¿åˆ—è¡¨
- å‘ç°çš„é—®é¢˜å’Œå»ºè®®

### `validate` - éªŒè¯ç¿»è¯‘æ•°æ®
```bash
npx tsx src/tools/template-translation/cli/TranslationCLI.ts validate
```
æ£€æŸ¥ç¿»è¯‘æ•°æ®çš„å®Œæ•´æ€§å’Œæ­£ç¡®æ€§ï¼š
- å¤šè¯­è¨€æ ¼å¼éªŒè¯
- æ¨¡æ¿è¦†ç›–ç‡æ£€æŸ¥
- æ•°æ®ä¸€è‡´æ€§éªŒè¯

### `preview` - é¢„è§ˆç¿»è¯‘æ•ˆæœ
```bash
npx tsx src/tools/template-translation/cli/TranslationCLI.ts preview
```
ä¸ä¿®æ”¹æ–‡ä»¶çš„æƒ…å†µä¸‹é¢„è§ˆç¿»è¯‘ç»“æœï¼š
- æ˜¾ç¤ºç¿»è¯‘ç»Ÿè®¡ä¿¡æ¯
- å±•ç¤ºç¿»è¯‘ç¤ºä¾‹
- ç”Ÿæˆå¤„ç†æŠ¥å‘Š

### `apply` - åº”ç”¨ç¿»è¯‘
```bash
# æ¨¡æ‹Ÿæ¨¡å¼ï¼ˆæ¨èå…ˆç”¨æ­¤æ¨¡å¼æµ‹è¯•ï¼‰
npx tsx src/tools/template-translation/cli/TranslationCLI.ts apply --dry-run

# å®é™…åº”ç”¨
npx tsx src/tools/template-translation/cli/TranslationCLI.ts apply

# å¼ºåˆ¶åº”ç”¨ï¼ˆè·³è¿‡éªŒè¯ï¼‰
npx tsx src/tools/template-translation/cli/TranslationCLI.ts apply --force

# ä¸åˆ›å»ºå¤‡ä»½
npx tsx src/tools/template-translation/cli/TranslationCLI.ts apply --skip-backup
```

### `backup` - åˆ›å»ºå¤‡ä»½
```bash
# åˆ›å»ºæ‰‹åŠ¨å¤‡ä»½
npx tsx src/tools/template-translation/cli/TranslationCLI.ts backup "é‡è¦æ›´æ–°å‰çš„å¤‡ä»½"

# åˆ›å»ºé»˜è®¤å¤‡ä»½
npx tsx src/tools/template-translation/cli/TranslationCLI.ts backup
```

### `list-backups` - åˆ—å‡ºå¤‡ä»½
```bash
npx tsx src/tools/template-translation/cli/TranslationCLI.ts list-backups
```

## ğŸ“‹ ç¿»è¯‘æ•°æ®ç»“æ„

### æœ¯è¯­è¡¨æ ¼å¼ (`terminology.json`)
```json
{
  "terminology": {
    "asmr": {
      "en": "ASMR",
      "zh": "ASMR", 
      "ja": "ASMR",
      "ko": "ASMR",
      "es": "ASMR",
      "de": "ASMR",
      "fr": "ASMR",
      "ar": "ASMR"
    }
  }
}
```

### ç¿»è¯‘æ‰¹æ¬¡æ ¼å¼ (`translations-batch-*.json`)
```json
{
  "batch": 1,
  "description": "ç¬¬ä¸€æ‰¹æ¨¡æ¿ç¿»è¯‘",
  "templates": {
    "template-slug": {
      "name": {
        "en": "Template Name",
        "zh": "æ¨¡æ¿åç§°",
        "ja": "ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå",
        "ko": "í…œí”Œë¦¿ ì´ë¦„",
        "es": "Nombre de Plantilla", 
        "de": "Vorlagenname",
        "fr": "Nom du ModÃ¨le",
        "ar": "Ø§Ø³Ù… Ø§Ù„Ù‚Ø§Ù„Ø¨"
      },
      "description": {
        // 8ç§è¯­è¨€çš„æè¿°ç¿»è¯‘
      },
      "params": {
        "param_name": {
          "label": {
            // 8ç§è¯­è¨€çš„æ ‡ç­¾ç¿»è¯‘
          },
          "options": [
            {
              "value": "option_value",
              "label": {
                // 8ç§è¯­è¨€çš„é€‰é¡¹æ ‡ç­¾ç¿»è¯‘
              }
            }
          ]
        }
      }
    }
  }
}
```

## ğŸ¯ æœ€ä½³å®è·µ

### 1. ä½¿ç”¨æµç¨‹
1. **æµ‹è¯•**: å…ˆè¿è¡Œ `test-translation-system.ts` ç¡®ä¿ç³»ç»Ÿæ­£å¸¸
2. **çŠ¶æ€æ£€æŸ¥**: ä½¿ç”¨ `status` å‘½ä»¤äº†è§£å½“å‰çŠ¶æ€
3. **éªŒè¯**: ä½¿ç”¨ `validate` å‘½ä»¤æ£€æŸ¥ç¿»è¯‘æ•°æ®
4. **é¢„è§ˆ**: ä½¿ç”¨ `preview` å‘½ä»¤æŸ¥çœ‹ç¿»è¯‘æ•ˆæœ
5. **æ¨¡æ‹Ÿåº”ç”¨**: ä½¿ç”¨ `apply --dry-run` æ¨¡æ‹Ÿåº”ç”¨
6. **æ­£å¼åº”ç”¨**: ä½¿ç”¨ `apply` æ­£å¼åº”ç”¨ç¿»è¯‘

### 2. å®‰å…¨å»ºè®®
- æ€»æ˜¯åœ¨åº”ç”¨å‰åˆ›å»ºå¤‡ä»½
- ä½¿ç”¨ `--dry-run` æ¨¡å¼æµ‹è¯•
- å®šæœŸéªŒè¯ç¿»è¯‘æ•°æ®å®Œæ•´æ€§
- ä¿ç•™é‡è¦æ—¶åˆ»çš„æ‰‹åŠ¨å¤‡ä»½

### 3. ç»´æŠ¤å»ºè®®
- æ–°å¢æ¨¡æ¿æ—¶åŠæ—¶æ·»åŠ ç¿»è¯‘
- å®šæœŸæ£€æŸ¥ç¿»è¯‘è¦†ç›–ç‡
- ä¿æŒæœ¯è¯­è¡¨çš„ä¸€è‡´æ€§æ›´æ–°
- ç›‘æ§ç¿»è¯‘è´¨é‡å’Œç”¨æˆ·åé¦ˆ

## ğŸ”§ ç³»ç»Ÿæ¶æ„

### æ ¸å¿ƒç»„ä»¶

1. **TemplateAnalyzer** - æ¨¡æ¿åˆ†æå™¨
   - æ£€æµ‹å¤šè¯­è¨€æ”¯æŒçŠ¶æ€
   - æå–å¯ç¿»è¯‘å­—æ®µ
   - ç”Ÿæˆåˆ†ææŠ¥å‘Š

2. **TranslationProcessor** - ç¿»è¯‘å¤„ç†å™¨
   - éªŒè¯ç¿»è¯‘æ•°æ®æ ¼å¼
   - åº”ç”¨ç¿»è¯‘åˆ°æ¨¡æ¿
   - ç”Ÿæˆå¤„ç†æŠ¥å‘Š

3. **TranslationManager** - ç¿»è¯‘ç®¡ç†å™¨
   - æ–‡ä»¶æ“ä½œç®¡ç†
   - å¤‡ä»½å’Œæ¢å¤
   - é«˜çº§ç®¡ç†åŠŸèƒ½

4. **TranslationCLI** - å‘½ä»¤è¡Œç•Œé¢
   - ç”¨æˆ·å‹å¥½çš„æ“ä½œç•Œé¢
   - å®Œæ•´çš„å‘½ä»¤æ”¯æŒ
   - è¯¦ç»†çš„è¾“å‡ºåé¦ˆ

### æ•°æ®æµç¨‹

```
ç¿»è¯‘æ•°æ®æ–‡ä»¶ â†’ TranslationProcessor â†’ éªŒè¯ â†’ åº”ç”¨åˆ°æ¨¡æ¿ â†’ å¤‡ä»½ â†’ æ›´æ–°æ–‡ä»¶
     â†‘                â†“
æœ¯è¯­è¡¨æ–‡ä»¶ â†â†’ TemplateAnalyzer â†’ åˆ†ææŠ¥å‘Š â†’ TranslationManager â†’ CLIè¾“å‡º
```

## ğŸš¨ æ³¨æ„äº‹é¡¹

1. **æ–‡ä»¶å®‰å…¨**: ç³»ç»Ÿä¼šè‡ªåŠ¨åˆ›å»ºå¤‡ä»½ï¼Œä½†å»ºè®®æ‰‹åŠ¨å¤‡ä»½é‡è¦çŠ¶æ€
2. **éªŒè¯é‡è¦**: æ€»æ˜¯å…ˆéªŒè¯ç¿»è¯‘æ•°æ®å†åº”ç”¨
3. **æµ‹è¯•ä¼˜å…ˆ**: ä½¿ç”¨ `--dry-run` æ¨¡å¼ç¡®ä¿æ“ä½œæ­£ç¡®
4. **å¢é‡æ›´æ–°**: æ–°å¢ç¿»è¯‘æ—¶éµå¾ªç°æœ‰çš„æ•°æ®ç»“æ„
5. **è´¨é‡æ§åˆ¶**: å®šæœŸæ£€æŸ¥ç¿»è¯‘è´¨é‡å’Œç”¨æˆ·ä½“éªŒ

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **æ–‡ä»¶è·¯å¾„é”™è¯¯**
   - ç¡®ä¿åœ¨é¡¹ç›®æ ¹ç›®å½•è¿è¡Œå‘½ä»¤
   - æ£€æŸ¥æ–‡ä»¶è·¯å¾„é…ç½®

2. **ç¿»è¯‘éªŒè¯å¤±è´¥**
   - æ£€æŸ¥ç¿»è¯‘æ•°æ®æ ¼å¼
   - ç¡®ä¿æ‰€æœ‰è¯­è¨€ä»£ç æ­£ç¡®
   - éªŒè¯æœ¯è¯­è¡¨ä¸€è‡´æ€§

3. **æ¨¡æ¿åŠ è½½å¤±è´¥**
   - ç¡®ä¿æ¨¡æ¿æ–‡ä»¶ä¸ºæœ‰æ•ˆ JSON
   - æ£€æŸ¥æ–‡ä»¶æƒé™
   - éªŒè¯ç›®å½•ç»“æ„

### è·å–å¸®åŠ©

```bash
npx tsx src/tools/template-translation/cli/TranslationCLI.ts help
```

## ğŸ“ˆ æœªæ¥æ‰©å±•

- [ ] æ”¯æŒæ›´å¤šè¯­è¨€
- [ ] è‡ªåŠ¨ç¿»è¯‘è´¨é‡è¯„ä¼°
- [ ] ç¿»è¯‘è®°å¿†åº“é›†æˆ
- [ ] Web ç®¡ç†ç•Œé¢
- [ ] ç¿»è¯‘åä½œå¹³å°
- [ ] è‡ªåŠ¨åŒ– CI/CD é›†æˆ

---

ğŸ‰ **æ­å–œï¼** ä½ ç°åœ¨æ‹¥æœ‰äº†ä¸€ä¸ªå®Œæ•´çš„è§†é¢‘æ¨¡æ¿å¤šè¯­è¨€ç¿»è¯‘ç®¡ç†ç³»ç»Ÿï¼